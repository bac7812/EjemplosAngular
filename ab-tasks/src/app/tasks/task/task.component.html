<mat-card *ngIf="task$ | async as task">
  <mat-card-header>
    <div mat-card-avatar>
      <mat-icon [color]="priorityColors[task.priority]">assignment</mat-icon>
    </div>
    <mat-card-title>{{ task.description }}</mat-card-title>
    <mat-card-subtitle
      >{{ task.dueDate }} -
      {{ stateCommands[task.state].name }}</mat-card-subtitle
    >
  </mat-card-header>
  <mat-card-content>
    <p>
      The Shiba Inu is the smallest of the six original and distinct spitz
      breeds of dog from Japan. A small, agile dog that copes very well with
      mountainous terrain, the Shiba Inu was originally bred for hunting.
    </p>
  </mat-card-content>
  <mat-card-actions>
    <ng-container *ngFor="let command of stateCommands">
      <button
        *ngIf="command.id != task.state"
        mat-button
        [color]="command.color"
        (click)="changeState(command.id, task)"
      >
        {{ command.name }}
      </button>
    </ng-container>
  </mat-card-actions>
</mat-card>
